# üöÄ DataFlow Adapters Library

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –¥–ª—è —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–π –∏ –≥–∏–±–∫–æ–π —Ä–∞–±–æ—Ç—ã —Å –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –∏ —Ñ–∞–π–ª–∞–º–∏ –≤ C++17.

---

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ **–∞–¥–∞–ø—Ç–µ—Ä—ã** (–ø–∞–π–ø–ª–∞–π–Ω—ã) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –≤–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥–æ–º `std::ranges`, –Ω–æ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∞–º–∏—Ö `std::ranges`.

---

## üìù –ó–∞–¥–∞—á–∞

> –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–±–æ—Ä –∞–¥–∞–ø—Ç–µ—Ä–æ–≤-–∫–æ–Ω–≤–µ–π–µ—Ä–æ–≤:
> - **Dir** ‚Äì –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∏–ª–∏ –Ω–µ—Ç).  
> - **OpenFiles** ‚Äì —á—Ç–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ `std::string`.  
> - **Split** ‚Äì —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ –ø–æ –Ω–∞–±–æ—Ä—É –¥–µ–ª–∏–º–∏—Ç–µ—Ä–æ–≤.  
> - **Transform** ‚Äì –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É.  
> - **Filter** ‚Äì —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø—Ä–µ–¥–∏–∫–∞—Ç—É.  
> - **AggregateByKey** ‚Äì –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ –∫–ª—é—á—É (–Ω–µ –ª–µ–Ω–∏–≤–æ).  
> - **Join** ‚Äì SQL-–ø–æ–¥–æ–±–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –ø–æ—Ç–æ–∫–æ–≤ –ø–æ –∫–ª—é—á–∞–º.  
> - **Write / Out** ‚Äì –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ø–æ—Ç–æ–∫ —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º.  
> - **AsVector** ‚Äì —Å–±–æ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ `std::vector`.  
> - **DropNullopt / SplitExpected** ‚Äì —Ä–∞–±–æ—Ç–∞ —Å `std::optional` –∏ `std::expected`.  

üí° **–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- **–õ–µ–Ω–∏–≤–∞—è Evaluation** (–∫—Ä–æ–º–µ –∞–≥—Ä–µ–≥–∞—Ü–∏–π –∏ join)  
- **–ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∞—è –ø–∞–º—è—Ç—å** —É –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∞–¥–∞–ø—Ç–µ—Ä–æ–≤  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–¥–µ–π `std::string_view`, `std::span` –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–ø–∏–π –¥–∞–Ω–Ω—ã—Ö  
- –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –Ω–∞ Google Test üß™

---

## üõ†Ô∏è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥–∞–ø—Ç–µ—Ä–æ–≤

### üìÅ Dir
- –°–æ–±–∏—Ä–∞–µ—Ç –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∏–ª–∏ –Ω–µ—Ç) —á–µ—Ä–µ–∑ `std::filesystem`.

### üìÇ OpenFiles
- –ß–∏—Ç–∞–µ—Ç –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª —Ü–µ–ª–∏–∫–æ–º –≤ `std::string`.  
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –æ—Ç–∫—Ä—ã—Ç–∏–µ–º —Ñ–∞–π–ª–∞.

### ‚úÇÔ∏è Split
- –†–∞–∑–±–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏, –ø–æ—Ç–æ–∫–∏ –∏–ª–∏ —Ñ–∞–π–ª—ã –ø–æ –Ω–∞–±–æ—Ä—É –¥–µ–ª–∏–º–∏—Ç–µ—Ä–æ–≤.  
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `std::string`, `std::stringstream`, `std::ifstream`.

### üîÑ Transform
- –ê–Ω–∞–ª–æ–≥ `std::transform`: –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é —Ñ—É–Ω–∫—Ü–∏—é –∫ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É.

### üîç Filter
- –û—Ç–±–∏—Ä–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –ø—Ä–µ–¥–∏–∫–∞—Ç—É.  
- –û–ø–µ—Ä–∞—Ü–∏–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–π –ø–∞–º—è—Ç–∏.

### üìä AggregateByKey
- –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –∫–ª—é—á—É –∏ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç –∞–≥—Ä–µ–≥–∞—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–¥—Å—á—ë—Ç —á–∞—Å—Ç–æ—Ç—ã).  
- –ù–µ –ª–µ–Ω–∏–≤—ã–π: —Å–æ–≤–µ—Ä—à–∞–µ—Ç –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥ –ø–æ –¥–∞–Ω–Ω—ã–º.

### üîó Join
- –õ–µ–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –ø–æ—Ç–æ–∫–æ–≤ –ø–æ –∫–ª—é—á—É.  
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `KV<Key,Value>` –∏ `JoinResult<Base,Joined>`.

### üñ®Ô∏è Write / Out
- –í—ã–≤–æ–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º –∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–º —Å—Ç—Ä–æ–∫–∏.  
- –£–¥–æ–±–Ω–∞—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ `operator|`.

### üì¶ AsVector
- –°–æ–±–∏—Ä–∞–µ—Ç –ø–æ—Ç–æ–∫ –≤ `std::vector<value_type>`.

### üö´ DropNullopt / ‚ûó SplitExpected
- `DropNullopt` —É–¥–∞–ª—è–µ—Ç `std::nullopt` –∏–∑ –ø–æ—Ç–æ–∫–∞.  
- `SplitExpected` —Ä–∞–∑–¥–µ–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã `std::expected` –Ω–∞ –æ—à–∏–±–∫–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è.

---

## üß™ –¢–µ—Å—Ç—ã

- –í—Å–µ –∞–¥–∞–ø—Ç–µ—Ä—ã –ø–æ–∫—Ä—ã—Ç—ã –º–æ–¥—É–ª—å–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ **Google Test**.  
- –¢–µ—Å—Ç—ã –≤–∫–ª—é—á–∞—é—Ç –∫–∞–∫ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, —Ç–∞–∫ –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.  
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –≤–ª–∏—è–µ—Ç –Ω–∞ –∏—Ç–æ–≥–æ–≤—É—é –æ—Ü–µ–Ω–∫—É.

---

## üìù –í–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏

- **Memory footprint**: –≤—Å–µ –∞–¥–∞–ø—Ç–µ—Ä—ã (–∫—Ä–æ–º–µ `AggregateByKey` –∏ `Join`) –∏—Å–ø–æ–ª—å–∑—É—é—Ç –û(1) –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏.  
- **Lazy evaluation**: –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π (Filter, Transform, Split –∏ —Ç.–ø.) –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏—Ç–µ—Ä–∞—Ü–∏–∏.  
